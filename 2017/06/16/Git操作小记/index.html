<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Git操作小记 · Lucky4</title><meta name="description" content="Git操作小记 - Lucky4"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Lucky4"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Git操作小记</h1><div class="post-info">Jun 16, 2017</div><div class="post-content"><h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">克隆远程服务器端的代码到本地代码仓库</div><div class="line">git clone [url]</div><div class="line">将本地代码仓库添加到远程仓库</div><div class="line">git remote add [shortname] [url]</div></pre></td></tr></table></figure>
<h2 id="更新提交"><a href="#更新提交" class="headerlink" title="更新提交"></a>更新提交</h2><p>文件状态: 已跟踪、未跟踪，已跟踪指纳入版本控制的管理的文件，该种文件已经纳入缓冲区，它可又有两种状态为未修改和已修改。而未跟踪文件指未纳入缓冲区的文件。</p>
<p>![git_state][images/git_state.png]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">跟踪某个文件</div><div class="line">git add &lt;filename&gt;</div><div class="line">.选项会把已修改的和添加的文件放入缓冲区不包括被删除文件</div><div class="line">git add .</div><div class="line">-u会把更新的文件和被删除文件放入缓冲去区</div><div class="line">git add .-u</div><div class="line">-A提交所有变化</div><div class="line">git add -A</div><div class="line">提交更新并加上提交注释</div><div class="line">git commit -m</div><div class="line">修改最后一次提交,比如发现漏掉了几个文件没有加，或者提交信息写错了</div><div class="line">git commit --amend</div></pre></td></tr></table></figure></p>
<p>当分支与master冲突的文件是.mo二进制文件时，此时我们没法手动rebase，那么我们可以使用如下操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git rebase master</div><div class="line">git add -u</div><div class="line">git rebase --continue</div></pre></td></tr></table></figure></p>
<p>和我们正常的rebase是一样的。</p>
<h2 id="显示信息"><a href="#显示信息" class="headerlink" title="显示信息"></a>显示信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">确定文件状态</div><div class="line">git status</div><div class="line">查看提交历史，会显示commit id等信息，对于版本回退会有很大帮助，退出按q键</div><div class="line">git log</div><div class="line">--graph 选项可以以一种便于查看的方式显示提交信息</div><div class="line">git log --graph</div><div class="line">查看具体修改了什么地方</div><div class="line">git diff</div></pre></td></tr></table></figure>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">创建并切换分支</div><div class="line">git checkout -b &lt;branchname&gt;</div><div class="line">合并分支一般在master上合并其他分支</div><div class="line">git merge &lt;branchname&gt;</div><div class="line">删除分支</div><div class="line">git branch -d &lt;branchname&gt;</div><div class="line">删除远程分支</div><div class="line">git push [远程名] :&lt;branchname&gt;</div><div class="line">衍合</div><div class="line">git rebase &lt;target branchname&gt;</div><div class="line">等价于（master为target branchname）</div><div class="line">git rebase master server</div></pre></td></tr></table></figure>
<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">回退到某次提交（即HEAD指针回到某个状态,之前的commit都没有变化）</div><div class="line">git reset &lt;commit id&gt;</div><div class="line">或者</div><div class="line">git reset --hard &lt;commit id前6位&gt;</div><div class="line">回退到某次提交，相当于一次新的commit</div><div class="line">git revert &lt;commit id&gt;</div></pre></td></tr></table></figure>
<h2 id="保持分支同步更新"><a href="#保持分支同步更新" class="headerlink" title="保持分支同步更新"></a>保持分支同步更新</h2><p>克隆操作会自动使用默认的master 和origin 名字。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">到远程仓库中拉取所有你本地仓库中还没有的数据,但不会自动合并</div><div class="line">git fetch [remote-name]</div><div class="line">到远程仓库中拉取所有你本地仓库中还没有的数据,并自动合并</div><div class="line">git pull</div><div class="line">推送数据到远程仓库</div><div class="line">git push [remote-name] [branch-name]</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2017/07/28/ES6介绍之Arrow-functions/" class="prev">PREV</a><a href="/2017/05/26/Django-REST-framework使用小记/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2021 <a href="http://yoursite.com">Lucky4</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>